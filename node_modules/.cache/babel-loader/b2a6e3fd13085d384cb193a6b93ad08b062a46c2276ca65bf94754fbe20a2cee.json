{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import ListOptions from'./ListOptions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditListMode(_ref){let{taskLists,handleChangeTaskState,listIndex}=_ref;console.log(\"LIST INDEX\",listIndex);const currentTitle=taskLists[listIndex].title;console.log(currentTitle);const[editingTitle,setEditingTitle]=useState(currentTitle);const listItems=taskLists[listIndex].currentItems;const[editingList,setEditingList]=useState([...listItems]);const checkedItems=taskLists[listIndex].completedItems;const editModeDisplayed=taskLists[listIndex].editModeDisplayed;const optionsDisplayed=taskLists[listIndex].optionsDisplayed;const listRef=useRef([]);useEffect(()=>{const size=listRef.current.length;listRef.current[size-1].focus();//focuses on recently created task\n},[editingList.length]);function handleTaskChange(event,index){const newListItems=[...listItems];newListItems[index]=event.target.value;setEditingList(newListItems);event.target.style.height='1em';event.target.style.height=\"\".concat(event.target.scrollHeight,\"px\");}function handleTitleChange(event){setEditingTitle(event.target.value);}function handleUserClickOut(event,index){const taskContent=event.target.value;// console.log(\"CLICKED OUT\")\nif(taskContent.length===0){const newEditingList=[...editingList];newEditingList.pop(index);setEditingList(newEditingList);}}function handleCloseEditMode(event){handleChangeTaskState(listIndex,\"editModeDisplayed\",false);}function createNewTask(event){const text=event.target.value;setEditingList([...editingList,text]);}function handleSave(event){handleChangeTaskState(listIndex,\"currentItems\",editingList);handleChangeTaskState(listIndex,\"title\",editingTitle);}return/*#__PURE__*/_jsx(\"div\",{id:\"edit-mode-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-list edit-mode\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list-header\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"title-input list-name\",value:editingTitle,onChange:event=>{handleTitleChange(event);}}),/*#__PURE__*/_jsx(\"button\",{onClick:event=>{handleCloseEditMode(event);},children:\"Close\"})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[editingList.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",disabled:true}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"1\",value:item,ref:el=>listRef.current=[...listRef.current,el],onBlur:event=>{handleUserClickOut(event,index);},onChange:event=>{handleTaskChange(event,index);},className:\"task\"})]},index)),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"textarea\",{rows:\"1\",placeholder:\"+ New Task\",onClick:e=>createNewTask(e),className:\"task\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"checkbox\",id:\"invisible-checkbox\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:event=>{handleSave(event);},children:\"Save\"})]})});}","map":{"version":3,"names":["React","useState","useRef","useEffect","ListOptions","jsx","_jsx","jsxs","_jsxs","EditListMode","_ref","taskLists","handleChangeTaskState","listIndex","console","log","currentTitle","title","editingTitle","setEditingTitle","listItems","currentItems","editingList","setEditingList","checkedItems","completedItems","editModeDisplayed","optionsDisplayed","listRef","size","current","length","focus","handleTaskChange","event","index","newListItems","target","value","style","height","concat","scrollHeight","handleTitleChange","handleUserClickOut","taskContent","newEditingList","pop","handleCloseEditMode","createNewTask","text","handleSave","id","children","className","onChange","onClick","map","item","type","disabled","rows","ref","el","onBlur","placeholder","e"],"sources":["/Users/jenniewei/Documents/GitHub/to-do-lists/src/components/EditListMode.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport ListOptions from './ListOptions'\n\n\nexport default function EditListMode({ taskLists, handleChangeTaskState, listIndex}) {\n\n  console.log(\"LIST INDEX\", listIndex)\n  const currentTitle=taskLists[listIndex].title\n  console.log(currentTitle)\n  const [editingTitle, setEditingTitle]=useState(currentTitle)\n  const listItems = taskLists[listIndex].currentItems\n  const [editingList, setEditingList]=useState([...listItems])\n  const checkedItems = taskLists[listIndex].completedItems\n  const editModeDisplayed = taskLists[listIndex].editModeDisplayed\n  const optionsDisplayed = taskLists[listIndex].optionsDisplayed\n\n\n    const listRef = useRef([]);\n\n    useEffect(() => {\n      const size = listRef.current.length;\n      listRef.current[size - 1].focus(); //focuses on recently created task\n      \n    }, [editingList.length]);\n  \n    function handleTaskChange(event, index) {\n      const newListItems = [...listItems]\n      newListItems[index] = event.target.value\n      setEditingList(newListItems)\n      event.target.style.height = '1em';\n      event.target.style.height = `${event.target.scrollHeight}px`; \n      \n    }\n    function handleTitleChange(event){\n      setEditingTitle(event.target.value)\n    }\n  \n  \n    function handleUserClickOut(event,index){\n      const taskContent=event.target.value\n      // console.log(\"CLICKED OUT\")\n      if (taskContent.length===0){\n        const newEditingList=[...editingList]\n        newEditingList.pop(index)\n        setEditingList(newEditingList)\n      }\n    }\n    function handleCloseEditMode(event){\n      handleChangeTaskState(listIndex, \"editModeDisplayed\", false)\n    }\n  \n    function createNewTask(event) {\n      const text = event.target.value\n      setEditingList([...editingList, text])\n    }\n\n    function handleSave(event){\n      handleChangeTaskState(listIndex, \"currentItems\", editingList)\n      handleChangeTaskState(listIndex, \"title\", editingTitle)\n    }\n    \n    return (\n      <div id=\"edit-mode-container\" >\n      <div className=\"task-list edit-mode\">\n        <div className='list-header'>      \n          <input className=\"title-input list-name\" value={editingTitle} onChange={(event)=>{handleTitleChange(event)}}></input>\n          <button onClick={(event)=>{handleCloseEditMode(event)}}>Close</button>\n          </div>\n  \n        <ul>\n          {editingList.map((item, index) => (\n            <li key={index}>\n              <input \n                type= 'checkbox' disabled={true}/>\n              <textarea \n                rows=\"1\" \n                value={item}\n                ref = {el => listRef.current = [...listRef.current, el]}\n                onBlur={(event) => {handleUserClickOut(event,index)}}  \n                onChange={(event) => {handleTaskChange(event, index)}} \n                className=\"task\"\n              />\n            </li>\n          ))}\n          <li>\n            <textarea \n              rows=\"1\" \n              placeholder='+ New Task' \n              onClick={(e) => createNewTask(e)} \n              className=\"task\"\n            /> \n            <input \n              disabled={true}\n              type= 'checkbox'\n              id='invisible-checkbox'\n            />\n          </li>\n        </ul>\n        <button onClick={(event)=>{handleSave(event)}}>Save</button>\n      </div>\n      </div>\n\n    );\n  }"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAO,CAAAC,WAAW,KAAM,eAAe,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGvC,cAAe,SAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAiD,IAAhD,CAAEC,SAAS,CAAEC,qBAAqB,CAAEC,SAAS,CAAC,CAAAH,IAAA,CAEjFI,OAAO,CAACC,GAAG,CAAC,YAAY,CAAEF,SAAS,CAAC,CACpC,KAAM,CAAAG,YAAY,CAACL,SAAS,CAACE,SAAS,CAAC,CAACI,KAAK,CAC7CH,OAAO,CAACC,GAAG,CAACC,YAAY,CAAC,CACzB,KAAM,CAACE,YAAY,CAAEC,eAAe,CAAC,CAAClB,QAAQ,CAACe,YAAY,CAAC,CAC5D,KAAM,CAAAI,SAAS,CAAGT,SAAS,CAACE,SAAS,CAAC,CAACQ,YAAY,CACnD,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAACtB,QAAQ,CAAC,CAAC,GAAGmB,SAAS,CAAC,CAAC,CAC5D,KAAM,CAAAI,YAAY,CAAGb,SAAS,CAACE,SAAS,CAAC,CAACY,cAAc,CACxD,KAAM,CAAAC,iBAAiB,CAAGf,SAAS,CAACE,SAAS,CAAC,CAACa,iBAAiB,CAChE,KAAM,CAAAC,gBAAgB,CAAGhB,SAAS,CAACE,SAAS,CAAC,CAACc,gBAAgB,CAG5D,KAAM,CAAAC,OAAO,CAAG1B,MAAM,CAAC,EAAE,CAAC,CAE1BC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA0B,IAAI,CAAGD,OAAO,CAACE,OAAO,CAACC,MAAM,CACnCH,OAAO,CAACE,OAAO,CAACD,IAAI,CAAG,CAAC,CAAC,CAACG,KAAK,CAAC,CAAC,CAAE;AAErC,CAAC,CAAE,CAACV,WAAW,CAACS,MAAM,CAAC,CAAC,CAExB,QAAS,CAAAE,gBAAgBA,CAACC,KAAK,CAAEC,KAAK,CAAE,CACtC,KAAM,CAAAC,YAAY,CAAG,CAAC,GAAGhB,SAAS,CAAC,CACnCgB,YAAY,CAACD,KAAK,CAAC,CAAGD,KAAK,CAACG,MAAM,CAACC,KAAK,CACxCf,cAAc,CAACa,YAAY,CAAC,CAC5BF,KAAK,CAACG,MAAM,CAACE,KAAK,CAACC,MAAM,CAAG,KAAK,CACjCN,KAAK,CAACG,MAAM,CAACE,KAAK,CAACC,MAAM,IAAAC,MAAA,CAAMP,KAAK,CAACG,MAAM,CAACK,YAAY,MAAI,CAE9D,CACA,QAAS,CAAAC,iBAAiBA,CAACT,KAAK,CAAC,CAC/Bf,eAAe,CAACe,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CACrC,CAGA,QAAS,CAAAM,kBAAkBA,CAACV,KAAK,CAACC,KAAK,CAAC,CACtC,KAAM,CAAAU,WAAW,CAACX,KAAK,CAACG,MAAM,CAACC,KAAK,CACpC;AACA,GAAIO,WAAW,CAACd,MAAM,GAAG,CAAC,CAAC,CACzB,KAAM,CAAAe,cAAc,CAAC,CAAC,GAAGxB,WAAW,CAAC,CACrCwB,cAAc,CAACC,GAAG,CAACZ,KAAK,CAAC,CACzBZ,cAAc,CAACuB,cAAc,CAAC,CAChC,CACF,CACA,QAAS,CAAAE,mBAAmBA,CAACd,KAAK,CAAC,CACjCtB,qBAAqB,CAACC,SAAS,CAAE,mBAAmB,CAAE,KAAK,CAAC,CAC9D,CAEA,QAAS,CAAAoC,aAAaA,CAACf,KAAK,CAAE,CAC5B,KAAM,CAAAgB,IAAI,CAAGhB,KAAK,CAACG,MAAM,CAACC,KAAK,CAC/Bf,cAAc,CAAC,CAAC,GAAGD,WAAW,CAAE4B,IAAI,CAAC,CAAC,CACxC,CAEA,QAAS,CAAAC,UAAUA,CAACjB,KAAK,CAAC,CACxBtB,qBAAqB,CAACC,SAAS,CAAE,cAAc,CAAES,WAAW,CAAC,CAC7DV,qBAAqB,CAACC,SAAS,CAAE,OAAO,CAAEK,YAAY,CAAC,CACzD,CAEA,mBACEZ,IAAA,QAAK8C,EAAE,CAAC,qBAAqB,CAAAC,QAAA,cAC7B7C,KAAA,QAAK8C,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClC7C,KAAA,QAAK8C,SAAS,CAAC,aAAa,CAAAD,QAAA,eAC1B/C,IAAA,UAAOgD,SAAS,CAAC,uBAAuB,CAAChB,KAAK,CAAEpB,YAAa,CAACqC,QAAQ,CAAGrB,KAAK,EAAG,CAACS,iBAAiB,CAACT,KAAK,CAAC,EAAE,CAAQ,CAAC,cACrH5B,IAAA,WAAQkD,OAAO,CAAGtB,KAAK,EAAG,CAACc,mBAAmB,CAACd,KAAK,CAAC,EAAE,CAAAmB,QAAA,CAAC,OAAK,CAAQ,CAAC,EACjE,CAAC,cAER7C,KAAA,OAAA6C,QAAA,EACG/B,WAAW,CAACmC,GAAG,CAAC,CAACC,IAAI,CAAEvB,KAAK,gBAC3B3B,KAAA,OAAA6C,QAAA,eACE/C,IAAA,UACEqD,IAAI,CAAE,UAAU,CAACC,QAAQ,CAAE,IAAK,CAAC,CAAC,cACpCtD,IAAA,aACEuD,IAAI,CAAC,GAAG,CACRvB,KAAK,CAAEoB,IAAK,CACZI,GAAG,CAAIC,EAAE,EAAInC,OAAO,CAACE,OAAO,CAAG,CAAC,GAAGF,OAAO,CAACE,OAAO,CAAEiC,EAAE,CAAE,CACxDC,MAAM,CAAG9B,KAAK,EAAK,CAACU,kBAAkB,CAACV,KAAK,CAACC,KAAK,CAAC,EAAE,CACrDoB,QAAQ,CAAGrB,KAAK,EAAK,CAACD,gBAAgB,CAACC,KAAK,CAAEC,KAAK,CAAC,EAAE,CACtDmB,SAAS,CAAC,MAAM,CACjB,CAAC,GAVKnB,KAWL,CACL,CAAC,cACF3B,KAAA,OAAA6C,QAAA,eACE/C,IAAA,aACEuD,IAAI,CAAC,GAAG,CACRI,WAAW,CAAC,YAAY,CACxBT,OAAO,CAAGU,CAAC,EAAKjB,aAAa,CAACiB,CAAC,CAAE,CACjCZ,SAAS,CAAC,MAAM,CACjB,CAAC,cACFhD,IAAA,UACEsD,QAAQ,CAAE,IAAK,CACfD,IAAI,CAAE,UAAU,CAChBP,EAAE,CAAC,oBAAoB,CACxB,CAAC,EACA,CAAC,EACH,CAAC,cACL9C,IAAA,WAAQkD,OAAO,CAAGtB,KAAK,EAAG,CAACiB,UAAU,CAACjB,KAAK,CAAC,EAAE,CAAAmB,QAAA,CAAC,MAAI,CAAQ,CAAC,EACzD,CAAC,CACD,CAAC,CAGV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}