{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{X}from\"react-feather\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditListMode(_ref){let{taskLists,handleChangeTaskState,listIndex}=_ref;const currentTitle=taskLists[listIndex].title;//editing title that doesn't change taskLists state until save button is clicked\nconst[editingTitle,setEditingTitle]=useState(currentTitle);const listItems=taskLists[listIndex].currentItems;//editing list that doesn't change taskLists state until save button is clicked\nconst[editingList,setEditingList]=useState([...listItems]);const listRef=useRef([]);useEffect(()=>{const size=listRef.current.length;if(size>0&&listRef.current[size-1]!==null){listRef.current[size-1].focus();//focuses on recently created task\n}},[editingList.length]);//handles change in task content in editing list\nfunction handleTaskChange(event,index){const newListItems=[...editingList];newListItems[index]=event.target.value;setEditingList(newListItems);// resizes text area to fit typed content\nevent.target.style.height=\"1em\";event.target.style.height=\"\".concat(event.target.scrollHeight,\"px\");}function handleTitleChange(event){// resizes text area to fit typed title\nevent.target.style.height=\"1em\";event.target.style.height=\"\".concat(event.target.scrollHeight,\"px\");setEditingTitle(event.target.value);}function handleUserClickOut(event,index){const taskContent=event.target.value;if(taskContent.length===0){const newEditingList=[...editingList];newEditingList.pop(index);setEditingList(newEditingList);}}//closes edit mode when user clicks on close button by setting editModeDisplayed to false\nfunction handleCloseEditMode(event){handleChangeTaskState(listIndex,\"editModeDisplayed\",false);}//creates new task in the editing list when user clicks on + New Task\nfunction createNewTask(event){const text=event.target.value;setEditingList([...editingList,text]);}//saves editing list and title to taskLists state\nfunction handleSave(event){handleChangeTaskState(listIndex,\"editModeDisplayed\",false);handleChangeTaskState(listIndex,\"currentItems\",editingList);handleChangeTaskState(listIndex,\"title\",editingTitle);}return/*#__PURE__*/_jsx(\"div\",{id:\"edit-mode-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" edit-mode\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list-header\",children:[/*#__PURE__*/_jsx(\"textarea\",{\"aria-label\":\"type to edit list title\",rows:\"1\",className:\"title-input list-title\",value:editingTitle,placeholder:\"Title\",onChange:event=>{handleTitleChange(event);}}),/*#__PURE__*/_jsx(\"button\",{onClick:event=>{handleCloseEditMode(event);},\"aria-label\":\"close edit list popup\",className:\"close-button\",children:/*#__PURE__*/_jsx(X,{size:\"30\",color:\"gray\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[editingList.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"task-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",disabled:true}),/*#__PURE__*/_jsx(\"textarea\",{\"aria-label\":\"type to edit task content\",className:\" task-text\",rows:\"1\",value:item,ref:el=>listRef.current=[...listRef.current,el],onBlur:event=>{handleUserClickOut(event,index);},onChange:event=>{handleTaskChange(event,index);}})]},index)),/*#__PURE__*/_jsxs(\"button\",{className:\"task-container new-task task-text\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:e=>createNewTask(e),children:\"+ New Task\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"checkbox\",id:\"invisible-checkbox\"})]})]}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"click to save changes\",className:\"blue-button\",onClick:event=>{handleSave(event);},children:\"Save\"})]})});}","map":{"version":3,"names":["React","useState","useRef","useEffect","X","jsx","_jsx","jsxs","_jsxs","EditListMode","_ref","taskLists","handleChangeTaskState","listIndex","currentTitle","title","editingTitle","setEditingTitle","listItems","currentItems","editingList","setEditingList","listRef","size","current","length","focus","handleTaskChange","event","index","newListItems","target","value","style","height","concat","scrollHeight","handleTitleChange","handleUserClickOut","taskContent","newEditingList","pop","handleCloseEditMode","createNewTask","text","handleSave","id","children","className","rows","placeholder","onChange","onClick","color","map","item","type","disabled","ref","el","onBlur","e"],"sources":["/Users/jenniewei/Documents/GitHub/to-do-lists/src/components/EditListMode.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { X } from \"react-feather\";\n\nexport default function EditListMode({\n  taskLists,\n  handleChangeTaskState,\n  listIndex,\n}) {\n  const currentTitle = taskLists[listIndex].title;\n  //editing title that doesn't change taskLists state until save button is clicked\n  const [editingTitle, setEditingTitle] = useState(currentTitle);\n  const listItems = taskLists[listIndex].currentItems;\n  //editing list that doesn't change taskLists state until save button is clicked\n  const [editingList, setEditingList] = useState([...listItems]);\n\n  const listRef = useRef([]);\n\n  useEffect(() => {\n    const size = listRef.current.length;\n    if (size > 0 && listRef.current[size - 1] !== null) {\n      listRef.current[size - 1].focus(); //focuses on recently created task\n    }\n  }, [editingList.length]);\n  //handles change in task content in editing list\n  function handleTaskChange(event, index) {\n    const newListItems = [...editingList];\n    newListItems[index] = event.target.value;\n    setEditingList(newListItems);\n    // resizes text area to fit typed content\n    event.target.style.height = \"1em\";\n    event.target.style.height = `${event.target.scrollHeight}px`;\n  }\n  function handleTitleChange(event) {\n    // resizes text area to fit typed title\n    event.target.style.height = \"1em\";\n    event.target.style.height = `${event.target.scrollHeight}px`;\n    setEditingTitle(event.target.value);\n  }\n\n  function handleUserClickOut(event, index) {\n    const taskContent = event.target.value;\n    if (taskContent.length === 0) {\n      const newEditingList = [...editingList];\n      newEditingList.pop(index);\n      setEditingList(newEditingList);\n    }\n  }\n  //closes edit mode when user clicks on close button by setting editModeDisplayed to false\n  function handleCloseEditMode(event) {\n    handleChangeTaskState(listIndex, \"editModeDisplayed\", false);\n  }\n  //creates new task in the editing list when user clicks on + New Task\n  function createNewTask(event) {\n    const text = event.target.value;\n    setEditingList([...editingList, text]);\n  }\n\n  //saves editing list and title to taskLists state\n  function handleSave(event) {\n    handleChangeTaskState(listIndex, \"editModeDisplayed\", false);\n    handleChangeTaskState(listIndex, \"currentItems\", editingList);\n    handleChangeTaskState(listIndex, \"title\", editingTitle);\n  }\n\n  return (\n    <div id=\"edit-mode-container\">\n      <div className=\" edit-mode\">\n        <div className=\"list-header\">\n          {/* aria label to describe the purpose of the text area for screen reader */}\n          <textarea\n            aria-label=\"type to edit list title\"\n            rows=\"1\"\n            className=\"title-input list-title\"\n            value={editingTitle}\n            placeholder=\"Title\"\n            onChange={(event) => {\n              handleTitleChange(event);\n            }}\n          ></textarea>\n          <button\n            onClick={(event) => {\n              handleCloseEditMode(event);\n            }}\n            aria-label=\"close edit list popup\"\n            className=\"close-button\"\n          >\n            <X size=\"30\" color=\"gray\" />\n          </button>\n        </div>\n        <ul>\n          {editingList.map((item, index) => (\n            <li className=\"task-container\" key={index}>\n              <input type=\"checkbox\" disabled={true} />\n              {/* aria label to describe the purpose of the text area for screen reader */}\n              <textarea\n                aria-label=\"type to edit task content\"\n                className=\" task-text\"\n                rows=\"1\"\n                value={item}\n                ref={(el) => (listRef.current = [...listRef.current, el])}\n                onBlur={(event) => {\n                  handleUserClickOut(event, index);\n                }}\n                onChange={(event) => {\n                  handleTaskChange(event, index);\n                }}\n              />\n            </li>\n          ))}\n          <button className=\"task-container new-task task-text\">\n            <div onClick={(e) => createNewTask(e)}>+ New Task</div>\n            <input disabled={true} type=\"checkbox\" id=\"invisible-checkbox\" />\n          </button>\n        </ul>\n        <button\n          aria-label=\"click to save changes\"\n          className=\"blue-button\"\n          onClick={(event) => {\n            handleSave(event);\n          }}\n        >\n          Save\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}